<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elzatona Nurse - Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
  <style>
    /* --- Ø¨Ø¯Ø§ÙŠØ© Ù‚Ø³Ù… CSS --- */
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

    body {
      font-family: 'Cairo', sans-serif;
      background: #f1f4f8;
      margin: 0;
      padding: 20px;
      display: flex; /* Ù…Ù‡Ù… Ù„Ù„ÙˆØ³Ø·Ù†Ø© */
      justify-content: center; /* Ù…Ù‡Ù… Ù„Ù„ÙˆØ³Ø·Ù†Ø© */
      align-items: center; /* Ù…Ù‡Ù… Ù„Ù„ÙˆØ³Ø·Ù†Ø© */
      min-height: 100vh; /* Ù…Ù‡Ù… Ù„Ù„ÙˆØ³Ø·Ù†Ø© */
      direction: rtl; /* Ù…Ù‡Ù… Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ */
    }

    .container {
      background: #ffffff;
      padding: 35px 25px;
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 450px; /* ÙŠØ­Ø¯Ø¯ Ø¹Ø±Ø¶ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ */
      box-sizing: border-box;
      text-align: right; /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ù†Øµ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ù„Ù„ÙŠÙ…ÙŠÙ† */
    }

    h2 {
        text-align: center;
        color: #333;
        margin-bottom: 25px;
        font-family: 'Cairo', sans-serif;
    }

    input, button {
      width: 100%;
      padding: 14px;
      margin: 10px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
      box-sizing: border-box;
      font-family: 'Cairo', sans-serif;
      text-align: right;
    }

    input::placeholder {
        color: #999;
        text-align: right;
    }

    button {
      background-color: #28a745;
      color: white;
      cursor: pointer;
      border: none;
      transition: background-color 0.3s ease;
      font-weight: bold;
    }

    button:hover {
      background-color: #218838;
    }

    button.loading {
        background-color: #aaa;
        cursor: not-allowed;
    }
    button.loading::after {
        content: ' ...';
    }

    .message {
      margin-top: 15px;
      font-weight: bold;
      font-size: 15px;
      text-align: center;
      min-height: 20px;
      word-wrap: break-word;
      color: red; /* Default: Error */
    }
    .message.success { color: green; }
    .message.info { color: #555; }

    .info-box {
      background: #fff3cd;
      color: #856404;
      padding: 15px;
      margin-top: 25px;
      border: 1px solid #ffeeba;
      border-radius: 8px;
      font-size: 15px;
      text-align: right;
    }

     .info-box p { margin-bottom: 10px; }
     ul { padding-right: 20px; margin-top: 5px; margin-bottom: 15px; }
     li { margin-bottom: 5px; }

    .free-offer {
        color:#D9534F; /* Red color for urgency */
        font-weight: bold;
        text-align: center;
        margin-top: 15px;
        font-size: 1.1em; /* Slightly larger font */
    }

    /* Style for the countdown timer */
    #countdown-timer {
        background-color: #d9534f; /* Red background */
        color: white; /* White text */
        padding: 10px;
        margin-top: 15px;
        border-radius: 5px;
        text-align: center;
        font-size: 16px;
        font-weight: bold;
        line-height: 1.5;
    }
     #countdown-timer span {
         display: inline-block;
         margin: 0 5px; /* Spacing around numbers/units */
     }

    @media (max-width: 480px) {
      .container { padding: 25px 20px; }
      input, button { font-size: 15px; }
      .info-box { font-size: 14px; }
      h2 { font-size: 1.5em; }
      #countdown-timer { font-size: 14px; }
    }
    /* --- Ù†Ù‡Ø§ÙŠØ© Ù‚Ø³Ù… CSS --- */
  </style>
</head>
<body>
  <div class="container">
    <h2>Elzatona Nurse</h2>
    <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ (01xxxxxxxxx)">
    <input type="text" id="code" placeholder="ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ (Ù…Ø«Ø§Ù„: ZAT123456)">
    <button id="loginButton" onclick="verifyAndRedirect()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    <div class="message" id="message"></div>

    <div class="info-box">
      <p>Ø¨Ø±Ù†Ø§Ù…Ø¬ Elzatona Nurse Ù…Ø¹Ù…ÙˆÙ„ Ù…Ø®ØµÙˆØµ Ø¹Ù„Ø´Ø§Ù† ÙŠØ³Ø§Ø¹Ø¯ Ø·Ù„Ø§Ø¨ <strong>ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ…Ø±ÙŠØ¶</strong> Ø¹Ù„Ù‰ Ø§Ù„ÙÙ‡Ù… ÙˆØ§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø³Ù‡Ù„Ø© ÙˆØ³Ø±ÙŠØ¹Ø©ØŒ ÙˆØ¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ù„ÙŠ Ø¨ØªØªÙƒÙ„Ù…ÙˆÙ‡Ø§.</p>
      <p>Ù„ÙƒÙ† ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨ÙŠØ­ØªØ§Ø¬ <strong>Ù…ØµØ§Ø±ÙŠÙ ØªØ´ØºÙŠÙ„ ÙƒØ¨ÙŠØ±Ø©</strong> Ø¹Ù„Ø´Ø§Ù† ÙŠÙØ¶Ù„ Ø´ØºÙ‘Ø§Ù„ Ø¨ÙƒÙØ§Ø¡Ø© ÙˆÙ…ØªØ§Ø­ Ù„ÙŠÙƒ Ø·ÙˆÙ„ Ø§Ù„ÙˆÙ‚Øª.</p>

      <p style="color:#155724; font-weight: bold;">ğŸ‰ Ø¹Ø±Ø¶ Ø®Ø§Øµ! Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø¬Ø§Ù†ÙŠ ØªÙ…Ø§Ù…Ù‹Ø§ Ø­ØªÙ‰ Ù†Ù‡Ø§ÙŠØ© ÙŠÙˆÙ… 30 Ø£Ø¨Ø±ÙŠÙ„ 2025!</p>
      <div id="countdown-timer">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¶...</div>
      <p class="free-offer">Ø§Ø³ØªØºÙ„ Ø§Ù„ÙØ±ØµØ© ÙˆØ§Ø¯Ø®Ù„ Ø§Ù„Ø¢Ù† Ù…Ø¬Ø§Ù†Ù‹Ø§ Ù‚Ø¨Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¶!</p>
      <p style="margin-top: 20px;">Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¶ØŒ Ø³ÙŠÙƒÙˆÙ† Ø¨Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„ØªØ§Ù„ÙŠ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙ†Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±:</p>
      <ul>
        <li>âœ… Ø´Ù‡Ø± = <strong>100 Ø¬Ù†ÙŠÙ‡</strong></li>
        <li>âœ… Ø´Ù‡Ø±ÙŠÙ† = <strong>150 Ø¬Ù†ÙŠÙ‡</strong> (Ø¨Ø¯Ù„ 200)</li>
        <li>âœ… Ø«Ù„Ø§Ø« Ø´Ù‡ÙˆØ± + Ø´Ù‡Ø± Ù‡Ø¯ÙŠØ© (Ø¥Ø¬Ù…Ø§Ù„ÙŠ 4 Ø´Ù‡ÙˆØ±) = <strong>200 Ø¬Ù†ÙŠÙ‡</strong> (Ø¨Ø¯Ù„ 400)</li>
      </ul>
    </div>
  </div> <script>
    // --- Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ---
    async function verifyAndRedirect() {
        const phoneInput = document.getElementById('phone');
        const codeInput = document.getElementById('code');
        const message = document.getElementById('message');
        const loginButton = document.getElementById('loginButton');
        const phone = phoneInput.value.trim();
        const code = codeInput.value.trim().toUpperCase();

        message.textContent = '';
        message.className = 'message';

        if (!phone || !code) {
            message.textContent = 'Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ù…Ù„Ø£ Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ÙˆÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„.';
            return;
        }
        const phoneRegex = /^01[0-9]{9}$/;
        if (!phoneRegex.test(phone)) {
            message.textContent = 'ØµÙŠØºØ© Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø© (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 11 Ø±Ù‚Ù… ÙˆØªØ¨Ø¯Ø£ Ø¨Ù€ 01).';
            return;
        }
        const codeRegex = /^ZAT[0-9]{6}$/i;
        if (!codeRegex.test(code)) {
            message.textContent = 'ØµÙŠØºØ© ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø© (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ZAT Ù…ØªØ¨ÙˆØ¹Ø© Ø¨Ù€ 6 Ø£Ø±Ù‚Ø§Ù…).';
            return;
        }

        loginButton.disabled = true;
        loginButton.classList.add('loading');
        message.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...';
        message.className = 'message info';

        const scriptURL = `https://script.google.com/macros/s/AKfycbzguaT2q6Sj0dekHoKG5H-RHPW_IWyE-7M61vixtIIUHRs1bFfOfMDRphu4xwDsIA3v/exec?phone=${encodeURIComponent(phone)}&code=${encodeURIComponent(code)}`;

        try {
            const response = await fetch(scriptURL);
            if (!response.ok) {
                let errorData = { message: `ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… (Ø®Ø·Ø£ ${response.status})` };
                try {
                    const errorJson = await response.json();
                    if (errorJson && errorJson.message) { errorData.message = errorJson.message; }
                } catch (e) { console.log("Response was not JSON or failed to parse: ", e); }
                 throw new Error(errorData.message);
            }
            const data = await response.json();
            if (data.status === "success" && data.gpt) {
                message.textContent = 'ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø¬Ø§Ø±ÙŠ ØªØ­ÙˆÙŠÙ„Ùƒ Ø§Ù„Ø¢Ù†...';
                message.className = 'message success';
                setTimeout(() => {
                    try { window.location.href = data.gpt; }
                    catch (redirectError) {
                        console.error("Redirection failed: ", redirectError);
                        message.textContent = 'ÙØ´Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ. Ø­Ø§ÙˆÙ„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©.';
                        message.className = 'message';
                        loginButton.disabled = false;
                        loginButton.classList.remove('loading');
                    }
                }, 1500);
            } else {
                 throw new Error(data.message || 'ÙØ´Ù„ Ø§Ù„ØªØ­Ù‚Ù‚. Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù….');
            }
        } catch (error) {
            console.error('Error during fetch or processing:', error);
            message.textContent = error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£. Ø¨Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ù‹Ø§.';
            message.className = 'message';
            loginButton.disabled = false;
            loginButton.classList.remove('loading');
        }
    }

    // --- ÙƒÙˆØ¯ Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ ---
    const countdownElement = document.getElementById('countdown-timer');
    const endDate = new Date("2025-05-01T00:00:00").getTime(); // Ù†Ù‡Ø§ÙŠØ© 30 Ø£Ø¨Ø±ÙŠÙ„ = Ø¨Ø¯Ø§ÙŠØ© 1 Ù…Ø§ÙŠÙˆ

    function updateCountdown() {
        const now = new Date().getTime();
        const distance = endDate - now;

        if (distance < 0) {
            clearInterval(countdownInterval);
            if(countdownElement) { // Check if element exists before updating
               countdownElement.innerHTML = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ!";
            }
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

         if(countdownElement) { // Check if element exists before updating
            countdownElement.innerHTML = `
                <span> ÙŠÙ†ØªÙ‡ÙŠ Ø§Ù„Ø¹Ø±Ø¶ Ø®Ù„Ø§Ù„: </span>
                <span> ${days} ÙŠÙˆÙ… </span>
                <span> ${hours} Ø³Ø§Ø¹Ø© </span>
                <span> ${minutes} Ø¯Ù‚ÙŠÙ‚Ø© </span>
                <span> ${seconds} Ø«Ø§Ù†ÙŠØ© </span>
            `;
         }
    }

    // Check if element exists before starting interval
    if (countdownElement) {
        const countdownInterval = setInterval(updateCountdown, 1000);
        updateCountdown(); // Run once immediately
    } else {
        console.error("Countdown timer element not found!");
    }

  </script>
</body>
</html>
